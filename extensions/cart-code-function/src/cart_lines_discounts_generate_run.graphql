query Input {
  cart {
    attribute(key: "promo_code") { value }
    lines {
      id
      quantity
      cost { subtotalAmount { amount } }
      merchandise {
        __typename
        ... on ProductVariant {
          id
          product { id }
        }
      }
    }
    cost { subtotalAmount { amount } }
  }
  discount {
    discountClasses
    metafield(namespace: "promo", key: "config") { value }
  }
}
